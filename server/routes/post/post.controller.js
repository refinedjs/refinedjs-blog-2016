;(function() {
	"use strict";
//================================================================================//
//=========  include modules  ====================================================//
//================================================================================//
	var post_service, pug;
	post_service = require( "./post.service" );

//================================================================================//
//=========  export public api  ==================================================//
//================================================================================//
	//output api
	module.exports = {
		getPost : getPost
	};
//================================================================================//
//=========  public api  =========================================================//
//================================================================================//
	/*
	**-------------------------------------------------------------------------------------
	** METHOD NAME - getPost
	** DESC - This will get the post, if not found it will throw a 404
	**-------------------------------------------------------------------------------------
	*/
	function getPost( req, res ){
		var post, post_template, compiled_include;
		post = req.params.post;
		if( ! post_service.postExists( post ) ){
			res.status( 404 ).send( "The post you are looking for does not exists, try again" );			
		}
		compiled_include = post_service.compilePost( post )();
		console.log( compiled_include );		
		res.status( 200 ).render( "post", { post_template : compiled_include, page_title : post_service.getPageTitle( post ) });
	}
//================================================================================//
//=========  private api  ========================================================//
//================================================================================//
	/*
	**-------------------------------------------------------------------------------------
	** METHOD NAME - 
	** DESC - 
	**-------------------------------------------------------------------------------------
	*/
}());
